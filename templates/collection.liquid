{% include 'breadcrumb' %}

{% if settings.collection_results_per_page != blank %}
  {% assign product_per_page = settings.collection_results_per_page %}
{% else %}
  {% assign product_per_page = 8 %}
{% endif %}
<div class="page-category">
  <div class="page-content">
    <div class="row">
      {% include 'collection-sidebar' %}
      <div class="col-12 col-lg-9 col-main wrap-collection-product">
        {% paginate collection.products by product_per_page %}
            <div class="wrap-product-content">
                {% include 'collection-header' %}
                <div class="mobile-show">
                    <div class="header-title">
                        <h2>{{ collection.title }}</h2>
                    </div>
                    <div class="wrap-filter-menu"><a href="#" data-id="filter">Filter</a><a href="#" data-id="sort">Top selling</a></div>
                </div>
                {% comment %}
                    Use class grid-uniform to have evenly sized columns clear
                    each other properly at each breakpoint.
                {% endcomment %}

                <div class="content-right row">
                    {% if collection.products.size > 0 %}
                        {% if settings.collection_results_per_row != blank and settings.collection_results_per_row != '5' %}
                            {% assign product_grid = 12 | divided_by: settings.collection_results_per_row %}
                            {% assign columns = true %}
                        {% endif %}

                        {% for product in collection.products %}
  {% if product.object_type == 'product' and product.type == 'SHOPSTORM_HIDDEN_PRODUCT' %}{% continue %}{% endif %}

                            <div class="col-6 col-lg-4 grid-item">
                                {% include 'product-grid-item' %}
                            </div>
                        {% endfor %}
                    {% else %}
                        <p class="text-center" {% if settings.enable_multilang %}data-translate="collections.general.no_matches"{% endif %}>{{ 'collections.general.no_matches' | t }}</p>
                    {% endif %}
                </div>
            </div>


          {% if paginate.pages > 1 %}
            <div class="padding">
              {% include 'pagination-page' %}
            </div>
          {% endif %}

        {% endpaginate %}
      </div>
    </div>
  </div>
</div>

